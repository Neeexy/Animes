<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Animes e Episódios</title>
    <style>
        /* Seus estilos CSS existentes */
    </style>
</head>
<body>
    <article class="anime-dragger">
        <!-- Aqui vão os animes que já estão no HTML (Bleach, Uzumaki, etc.) -->
    </article>

    <div id="topic">
        <h2 class="topic" style="margin-top: 15px;">Episódios</h2>
    </div>

    <section class="episodes-list" id="episodes-container">
        <!-- Episódios serão adicionados aqui dinamicamente -->
    </section>

    <script>
        // Função para carregar o JSON de animes
        async function loadAnimes() {
            try {
                const response = await fetch('animes.json'); // Carrega o arquivo JSON
                const data = await response.json();          // Converte a resposta para JSON
                displayEpisodes(data.animes);                // Chama a função que exibe os episódios
            } catch (error) {
                console.error('Erro ao carregar o arquivo JSON:', error);
            }
        }

        // Função para exibir episódios de cada anime
        function displayEpisodes(animes) {
            const episodesContainer = document.getElementById('episodes-container');

            animes.forEach(anime => {
                anime.episodes.forEach(episode => {
                    // Cria o HTML para cada episódio
                    const episodeHTML = `
                        <article class="item-episode" id="post-${episode.number}">
                            <div class="index-poster">
                                <img src="${episode.poster}" alt="Poster do ${anime.name} - Episódio ${episode.number}">
                                <div class="episode-link">
                                    <a href="${episode.url}"></a>
                                </div>
                            </div>
                            <div class="data">
                                <center>
                                    <h3>
                                        <a href="${episode.url}">${anime.name}</a>
                                    </h3>
                                    <span>Episódio ${episode.number}</span>
                                </center>
                            </div>
                        </article>
                    `;

                    // Adiciona o episódio ao container de episódios
                    episodesContainer.insertAdjacentHTML('beforeend', episodeHTML);
                });
            });
        }

        // Carregar os animes e episódios quando a página for carregada
        document.addEventListener('DOMContentLoaded', loadAnimes);
    </script>
</body>
</html>
